(this["webpackJsonpshopify-summer-2021"]=this["webpackJsonpshopify-summer-2021"]||[]).push([[0],{28:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(2),i=c.n(n),s=c(21),o=c.n(s),l=(c(28),c(6)),r=c(9),d=c.n(r),b=c(3),j=c(5),m=c(7);c(49);var u=function(e){return Object(a.jsxs)("button",{disabled:e.disabled,onClick:function(){e.onClick(e.data.imdbID,e.data)},className:"\n                movieItem\n                ".concat(e.isGrid?"gridView":"listView","\n                ").concat(e.disabled&&"disabled opacity-50 cursor-default","\n                ").concat(e.nominated&&"nominated"),children:[e.isGrid&&Object(a.jsx)("img",{className:"object-contain",alt:e.data.Title,src:e.data.Poster}),Object(a.jsx)("span",{className:"title self-center",children:e.data.Title}),Object(a.jsx)("span",{className:"year text-gray-500 self-center justify-self-start leading-none",children:e.data.Year}),Object(a.jsxs)("span",{className:"star fa-layers fa-lg justify-self-end",children:[Object(a.jsx)(b.a,{icon:m.b,className:"\n                        ".concat(e.nominated?"text-yellow-400":"text-gray-500","\n                        ").concat(e.disabled&&"opacity-0","\n                        break-words")}),Object(a.jsx)(b.a,{icon:j.d,className:"\n                        solidStar\n                        ".concat(e.nominated?"nominated text-yellow-400":"text-gray-500","\n                        ").concat(e.disabled&&"disabled","\n                        break-words")})]})]})},x=c(22);var h=function(e){var t=null;return Object(a.jsxs)("div",{className:"component flex items-center",children:[Object(a.jsx)(b.a,{icon:j.c,size:"lg",className:"mx-2"}),Object(a.jsx)("input",{className:"flex-1",placeholder:"Search for a movie",onChange:function(c){var a=c.target.value;a.length<1||(t&&clearTimeout(t),t=setTimeout((function(){var t;t=a,e.setSearchStr(t),d.a.get("http://www.omdbapi.com/?apikey=".concat("6a305717","&s=").concat(t,"&type=movie")).then((function(t){return e.setSearchRes(Object(x.uniqBy)(t.data.Search,"imdbID"))}))}),1e3))}})]})};c(51);var f=function(e){return Object(a.jsxs)("div",{className:"switch",children:[Object(a.jsx)("input",{type:"checkbox",id:"viewSwitch",className:"hidden",checked:e.isGrid,onChange:function(t){console.log(t.target.checked),e.setIsGrid(t.target.checked)}}),Object(a.jsxs)("label",{htmlFor:"viewSwitch",className:"component viewSwitch thin-padding rounded block relative cursor-pointer",children:[Object(a.jsx)("div",{className:"switchBlock rounded absolute bg-yellow-400 z-10 transition-all ".concat(e.isGrid?"gridView":"listView")}),Object(a.jsx)(b.a,{icon:j.e,size:"lg",className:"absolute z-20 transition-colors switchIcon gridView ".concat(e.isGrid?"text-white":"text-black")}),Object(a.jsx)(b.a,{icon:j.b,size:"lg",className:"absolute z-20 transition-colors switchIcon listView ".concat(e.isGrid?"text-black":"text-white")})]})]})};var O=function(e){var t=Object(n.useState)("".concat(window.location.origin).concat(window.location.pathname)),c=Object(l.a)(t,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){var t=Array.from(e.nomItems.keys()),c=t.length>0?"?nominated=".concat(t.join(",")):"";s("".concat(window.location.origin).concat(window.location.pathname).concat(c))}),[e.nomItems]),Object(a.jsxs)("div",{className:"component thin-padding flex flex-1",children:[Object(a.jsx)("input",{className:"flex-1 m-2",readOnly:!0,value:i}),Object(a.jsx)("button",{onClick:function(){navigator.clipboard.writeText(i).then((function(){e.setCopyBannerVisible(!0),setTimeout((function(){e.setCopyBannerVisible(!1)}),2e3)}))},className:"bg-yellow-400 rounded flex m-2",children:Object(a.jsx)(b.a,{icon:j.a,className:"text-white m-2"})})]})};var g=function(e){return Object(a.jsxs)("div",{className:"fixed ".concat(e.visible?"top-0":"-top-full"," left-0 w-screen p-4 z-30 text-center transition-all ").concat(e.backgroundColourClass||"bg-gray-300"),children:[e.text||"",Object(a.jsx)("button",{className:"h-full absolute top-0 right-10",children:Object(a.jsx)(b.a,{icon:j.f,size:"lg",className:"text-white",onClick:function(){return e.setVisibility(!1)}})})]})},v=c.p+"static/media/logo.8ab42f29.svg";c(52);var p=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(null),o=Object(l.a)(s,2),r=o[0],x=o[1],p=Object(n.useState)(new Map),w=Object(l.a)(p,2),N=w[0],y=w[1],k=Object(n.useState)(!0),C=Object(l.a)(k,2),S=C[0],I=C[1],z=Object(n.useState)(!1),T=Object(l.a)(z,2),V=T[0],G=T[1],D=Object(n.useState)(!1),B=Object(l.a)(D,2),F=B[0],E=B[1];Object(n.useEffect)((function(){var e,t=null===(e=new URL(window.location).searchParams.get("nominated"))||void 0===e?void 0:e.split(",");t&&t[0]&&Promise.all(t.map((function(e){return d.a.get("http://www.omdbapi.com/?apikey=".concat("6a305717","&i=").concat(e,"&type=movie"))}))).then((function(e){y((function(t){var c=new Map(t);return e.forEach((function(e){return c.set(e.data.imdbID,e.data)})),c}))}))}),[]);var P=function(e,t){y((function(c){var a=new Map(c);return N.has(e)?a.delete(e):a.set(e,t),a}))};return Object(n.useEffect)((function(){G(5===N.size)}),[N]),Object(a.jsxs)("div",{className:"p-4 lg:p-20 flex flex-col bg-gray-50 min-h-screen",children:[Object(a.jsx)(g,{text:"Thank you for voting!",visible:V,setVisibility:G,backgroundColourClass:"bg-yellow-300"}),Object(a.jsx)(g,{text:"Link copied.",visible:F,setVisibility:E}),Object(a.jsx)("img",{src:v,alt:"logo",className:"mx-auto mb-4 xl:w-2/6"}),Object(a.jsx)(h,{setSearchRes:x,setSearchStr:i}),Object(a.jsxs)("div",{className:"flex align-middle",children:[Object(a.jsx)(O,{nomItems:N,setCopyBannerVisible:E}),Object(a.jsx)(f,{isGrid:S,setIsGrid:I})]}),Object(a.jsxs)("div",{className:"flex flex-1 flex-col-reverse sm:flex-row",children:[Object(a.jsxs)("div",{className:"component flex-1",children:[!r&&Object(a.jsxs)("div",{className:"blankComponentText",children:[Object(a.jsx)(b.a,{icon:j.c,size:"3x",className:"text-black"}),Object(a.jsx)("div",{className:"m-1",children:"Use the search bar to look for a movie you want to nominate!"})]}),!!r&&(0===r.length?Object(a.jsxs)("div",{className:"blankComponentText",children:[Object(a.jsx)(b.a,{icon:m.a,size:"3x",className:"text-black"}),Object(a.jsx)("div",{children:"There are no search results."})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h3",{children:['Search results for: "',c,'"']}),Object(a.jsx)("div",{className:"flex-1 grid ".concat(S?"md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"," transition-all"),children:r.map((function(e){return Object(a.jsx)(u,{data:e,onClick:P,disabled:N.size>=5||N.has(e.imdbID),nominated:N.has(e.imdbID),isGrid:S},e.imdbID)}))})]}))]}),Object(a.jsx)("div",{className:"component flex-1",children:0===N.size?Object(a.jsxs)("div",{className:"blankComponentText",children:[Object(a.jsx)(b.a,{icon:m.b,size:"3x",className:"text-black"}),Object(a.jsx)("div",{className:"m-1",children:"You haven't nominated any items yet. Click a movie to nominate it."})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h3",{className:"flex-1",children:["Nominations: ",N.size,"/",5]}),Object(a.jsx)("div",{className:"grid ".concat(S?"md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"," transition-all"),children:Array.from(N.values()).map((function(e){return Object(a.jsx)(u,{data:e,onClick:P,nominated:!0,disabled:!1,isGrid:S},e.imdbID)}))})]})})]})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root")),w()}},[[53,1,2]]]);
//# sourceMappingURL=main.fce3f831.chunk.js.map